(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports={cardContainer:"DetailCard_cardContainer__20YCC",detailCard:"DetailCard_detailCard__EqRBX",image:"DetailCard_image__3VRS4",description:"DetailCard_description__16xE3",header:"DetailCard_header__WPT8T",column:"DetailCard_column__3_I-V",border:"DetailCard_border__2_1IS"}},,function(e,t,n){e.exports={selectContainer:"Dropdown_selectContainer__1wNES",selectButton:"Dropdown_selectButton__hap57",selectOptions:"Dropdown_selectOptions__2iggu",item:"Dropdown_item__rZmTP",toggleOpen:"Dropdown_toggleOpen__2P63r",iconOpen:"Dropdown_iconOpen__2p2Qp"}},,,,function(e,t,n){e.exports={listCard:"ListCard_listCard__1sYQg",image:"ListCard_image__39Iq8",description:"ListCard_description__2OSPI",routeLink:"ListCard_routeLink__1sjTT"}},function(e,t,n){e.exports={countries:"ListCountries_countries__3plb_",countryList:"ListCountries_countryList__1mi3s",countryMenu:"ListCountries_countryMenu__2B1Ee"}},,,function(e,t,n){e.exports={navbar:"Navbar_navbar__1u128",darkTheme:"Navbar_darkTheme__1lDmi"}},,,function(e,t,n){e.exports={inputForm:"Input_inputForm__20OxX",inputContainer:"Input_inputContainer__3SJ25",inputIcon:"Input_inputIcon__2fRFM"}},function(e,t,n){e.exports={detailsContainer:"CardDetails_detailsContainer__10pFj",detailsButton:"CardDetails_detailsButton__2O_Za"}},,,function(e,t,n){e.exports={spinner:"LoadingSpinner_spinner__25oxx"}},function(e,t,n){e.exports={button:"Button_button__1oVoD"}},,,,,,function(e,t,n){},,,function(e,t,n){e.exports={"select-container":"SelectRegion_select-container__mGIFZ",item:"SelectRegion_item__2nWEa","select-options":"SelectRegion_select-options__2Rx3Y","select-button":"SelectRegion_select-button__1dCI6",toggleOpen:"SelectRegion_toggleOpen__2sSjM",iconOpen:"SelectRegion_iconOpen__2EI6c"}},,,,,,,,,function(e,t,n){"use strict";n.r(t);var c=n(24),r=n.n(c),a=n(8),s=(n(33),n(1)),i=n.n(s),o=n(2),l=n(19),u=n.n(l),d=n(4),j=n(0),h=i.a.createContext({currentTheme:"light",setTheme:function(){}}),p=function(e){var t=Object(s.useState)("light"),n=Object(d.a)(t,2),c=n[0],r=n[1];return Object(j.jsx)(h.Provider,{value:{currentTheme:c,setTheme:function(){return r("light"===c?"dark":"light")}},children:e.children})},b=h,O=function(){var e=document.body,t=Object(s.useContext)(b);console.log(t.currentTheme);var n="".concat(u.a.navbar," ").concat("dark"===t.currentTheme?" darkElement darkBoxShadow":" lightElement lightBoxShadow");return Object(j.jsxs)("div",{className:n,children:[Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Where in the world?"})}),Object(j.jsxs)("div",{className:u.a.darkTheme,onClick:function(){t.setTheme(),e.classList.toggle("darkBackground")},children:["light"===t.currentTheme?Object(j.jsx)("i",{className:"far fa-moon"}):Object(j.jsx)("i",{className:"fas fa-moon"})," ","Dark Mode"]})]})},x=n(10),m=n.n(x),g=n(14),f=function(){var e=Object(g.a)(m.a.mark((function e(){var t,n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://restcountries.com/v2/all");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Something went wrong!");case 5:return e.next=7,t.json();case 7:return n=e.sent,e.next=10,n.map((function(e){return{id:e.alpha3Code,name:e.name,region:e.region,pop:e.population,img:e.flag,captial:e.capital}}));case 10:return c=e.sent,e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(g.a)(m.a.mark((function e(t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://restcountries.com/v2/alpha/".concat(t));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Something went wrong!");case 5:return e.next=7,n.json();case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=n(16),C=n.n(v),S=(n(36),n(11)),N=n.n(S),y=function(e){var t=Object(s.useContext)(b),n=Object(s.useRef)(),c=(Object(o.h)(),Object(s.useState)(!1)),r=Object(d.a)(c,2),a=r[0],i=r[1],l=function(e){return"".concat(N.a[e]," ").concat("dark"===t.currentTheme?" darkElement darkBoxShadow":" lightElement lightBoxShadow")},u=function(){i(!a)};return document.addEventListener("click",(function(e){null!==n.current&&(n.current.contains(e.target)||a&&i(!1))})),Object(j.jsxs)("div",{className:N.a.selectContainer,ref:n,children:[Object(j.jsxs)("div",{className:l("selectButton"),onClick:u,children:[Object(j.jsx)("p",{children:e.currentOption}),Object(j.jsx)("i",{className:"fas fa-sort-down"})]}),a&&Object(j.jsxs)("ul",{className:l("selectOptions"),onClick:function(t){"LI"===t.target.tagName&&e.onSelectRegion(t.target.textContent),u()},children:[Object(j.jsx)("li",{className:N.a.item,children:"Africa"}),Object(j.jsx)("li",{className:N.a.item,children:"Americas"}),Object(j.jsx)("li",{className:N.a.item,children:"Asia"}),Object(j.jsx)("li",{className:N.a.item,children:"Europe"}),Object(j.jsx)("li",{className:N.a.item,children:"Oceana"})]})]})},k=function(e){Object(s.useContext)(b);var t=Object(s.useState)("Filter by region"),n=Object(d.a)(t,2),c=n[0],r=n[1];Object(s.useEffect)((function(){!1===e.filteredByRegion&&r("Filter by region"),console.log("thisis running!")}),[e.filteredByRegion]);return Object(j.jsx)(y,{onSelectRegion:function(t){console.log(t);var n=e.countryData.filter((function(e){return e.region===t}));r(t),e.onSearch(n,!0)},currentOption:c})},w=n(22),D=n.n(w),E=function(e){var t=Object(s.useState)(""),n=Object(d.a)(t,2),c=n[0],r=n[1],a=Object(s.useContext)(b),i=e.countryData;Object(s.useEffect)((function(){!0===e.filteredByRegion&&r("")}),[e.filteredByRegion]);var o="".concat(D.a.inputContainer," ").concat("dark"===a.currentTheme?" darkElement darkBoxShadow":" lightElement lightBoxShadow");return Object(j.jsx)("form",{className:D.a.inputForm,onSubmit:function(t){if(t.preventDefault(),0===c.trim().length)e.onSearch(!1);else{var n=function(e){var t=function(e){if(0!==e.length){var t=e.split(" ");return 1===t.length?e.charAt(0).toUpperCase()+e.slice(1):t.map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}}(e);return i.filter((function(e){return t===e.name.slice(0,t.length)}))}(c);e.onSearch(n)}},children:Object(j.jsxs)("div",{className:o,children:[Object(j.jsx)("i",{className:"fas fa-search customIcon"}),Object(j.jsx)("input",{type:"text",onChange:function(e){r(e.target.value)},placeholder:"Search for a country...",value:c})]})})},R=n(15),B=n.n(R),T=function(e){var t=Object(s.useContext)(b),n=e.country,c="".concat(B.a.listCard," ").concat("dark"===t.currentTheme?" darkElement darkBoxShadow":" lightElement lightBoxShadow");return Object(j.jsx)(a.b,{className:B.a.routeLink,to:"/countries/".concat(n.id),children:Object(j.jsxs)("div",{className:c,"data-listcard":"List-Card",children:[Object(j.jsx)("img",{className:B.a.image,src:n.img}),Object(j.jsxs)("div",{className:B.a.description,children:[Object(j.jsx)("h2",{children:n.name}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"Population: "}),n.pop.toLocaleString()]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"Region: "}),n.region]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"Captial: "}),n.captial]})]})]})})},L=n(26),I=n.n(L),P=function(){return Object(j.jsx)("div",{className:I.a.spinner})},F=function(){return Object(j.jsx)("div",{children:"Your country could not be found! Please try again"})},M=n(28),A=function(e,t){return"SEND"===t.type?{data:null,error:null,status:"pending"}:"SUCCESS"===t.type?{data:t.responseData,error:null,status:"completed"}:"ERROR"===t.type?{data:null,error:t.errorMessage,status:"completed"}:"UPDATE"===t.type?{filteredData:t.newData,status:"filtered"}:e};var U=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(s.useReducer)(A,{status:t?"pending":null,data:null,error:null}),c=Object(d.a)(n,2),r=c[0],a=c[1],i=Object(s.useCallback)(function(){var t=Object(g.a)(m.a.mark((function t(n){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SEND"}),t.prev=1,t.next=4,e(n);case 4:c=t.sent,a({type:"SUCCESS",responseData:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"ERROR",errorMessage:t.t0.message||"Something went wrong!"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[e]),o=function(e){a({type:"UPDATE",newData:e})};return Object(M.a)({updateData:o,sendRequest:i},r)},q=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(!1),a=Object(d.a)(r,2),i=a[0],o=a[1],l=Object(s.useState)(!1),u=Object(d.a)(l,2),h=u[0],p=u[1],b=U(f,!0),O=b.data,x=b.error,m=b.status,g=b.sendRequest;Object(s.useEffect)((function(){g()}),[g]);var _=[],v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!1!==e?(p(t),o(!0),c(e)):o(!1)};return"pending"===m?Object(j.jsx)("div",{children:Object(j.jsx)(P,{})}):x?Object(j.jsx)("p",{children:x}):("completed"!==m||i||(console.log(O),_=O.map((function(e){return Object(j.jsx)(T,{country:e},e.id)}))),i&&(_=n.map((function(e){return Object(j.jsx)(T,{country:e},e.id)}))),i&&0===n.length&&(_=Object(j.jsx)(F,{})),Object(j.jsxs)("div",{className:C.a.countries+" container",children:[Object(j.jsxs)("div",{className:C.a.countryMenu,children:[Object(j.jsx)(E,{onSearch:v,countryData:O,filteredByRegion:h}),Object(j.jsx)(k,{onSearch:v,countryData:O,filteredByRegion:h})]}),Object(j.jsx)("div",{className:C.a.countryList,children:_})]}))},Y=n(9),J=n.n(Y),V=n(27),W=n.n(V),Z=function(e){var t=Object(s.useContext)(b),n="".concat(W.a.button," ").concat(e.className," ").concat("dark"===t.currentTheme?" darkElement darkBoxShadow":" lightElement lightBoxShadow");return Object(j.jsx)("button",{className:n,children:e.children})},Q=function(e){var t=e.countryData;return Object(j.jsx)("div",{className:J.a.cardContainer,children:Object(j.jsxs)("div",{className:J.a.detailCard,children:[Object(j.jsx)("img",{className:J.a.image,src:t.flag,alt:"This is where the image goes!"}),Object(j.jsxs)("div",{className:J.a.description,children:[Object(j.jsx)("h1",{className:J.a.header,children:t.name}),Object(j.jsxs)("div",{className:J.a.column,children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"Native Name: "}),t.nativeName]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"Population: "}),t.population.toLocaleString()]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"Region: "}),t.region]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"Subregion: "}),t.subregion]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"Captial: "}),t.capital]})]}),Object(j.jsxs)("div",{className:J.a.column,children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"Top Level Domain: "}),t.topLevelDomain[0]]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"Currencies: "}),t.currencies[0].name]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"Languages: "}),t.languages[0].name]})]}),Object(j.jsxs)("div",{className:J.a.border,children:["Border Countries: ",t.borders.map((function(e){return Object(j.jsx)(a.b,{to:"/countries/".concat(e),children:Object(j.jsxs)(Z,{children:[e," "]})})}))]})]})]})})},X=n(23),G=n.n(X),z=function(){var e,t=Object(o.g)(),n=U(_),c=n.data,r=n.status,i=n.error,l=n.sendRequest;return Object(s.useEffect)((function(){l(t.countryID)}),[l,t]),"pending"===r?Object(j.jsx)("div",{children:Object(j.jsx)(P,{})}):i?Object(j.jsx)("p",{children:i}):("completed"===r&&(e=Object(j.jsx)(Q,{countryData:c})),Object(j.jsxs)("div",{className:G.a.detailsContainer+" container",children:[Object(j.jsx)(a.b,{to:"/countries",children:Object(j.jsx)(Z,{className:G.a.detailsButton,children:"Back"})}),e]}))};var H=function(){return Object(j.jsxs)(p,{children:[Object(j.jsx)(O,{}),Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/",exact:!0,children:Object(j.jsx)(o.a,{to:"countries"})}),Object(j.jsx)(o.b,{path:"/countries",exact:!0,children:Object(j.jsx)(q,{})}),Object(j.jsx)(o.b,{path:"/countries/:countryID",children:Object(j.jsx)(z,{})})]})]})};r.a.render(Object(j.jsx)(a.a,{children:Object(j.jsx)(H,{})}),document.getElementById("root"))}],[[45,1,2]]]);
//# sourceMappingURL=main.8ca575f6.chunk.js.map